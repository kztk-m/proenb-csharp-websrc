-----
title: ç¬¬4å› ãƒ•ã‚¡ã‚¤ãƒ«å…¥å‡ºåŠ›ã¨ä¾‹å¤–å‡¦ç†
tableOfContents: true
-----


å‰å›ã®ç¶šãï¼šãƒ‡ã‚£ã‚¯ã‚·ãƒ§ãƒŠãƒª
==========================

**ãƒ‡ã‚£ã‚¯ã‚·ãƒ§ãƒŠãƒªï¼ˆé€£æƒ³é…åˆ—ãªã©ã¨ã‚‚è¨€ã‚ã‚Œã‚‹ï¼‰** ã¯å¤§é›‘æŠŠã«ã¯æ·»å­—ã«ä¸€èˆ¬ã®ãƒ‡ãƒ¼ã‚¿ã‚’è¨±ã—ãŸé…åˆ—ã®ã‚ˆã†ãªã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã§ã‚ã‚‹ï¼
.NETã«ãŠã„ã¦ã‚‚ï¼Œ``System.Collections.Generic.Dictionary<TKey,TValue>``ã¨ã—ã¦æä¾›ã•ã‚Œã¦ã„ã‚‹ï¼

.. code:: cs

  using System;
  using System.Collections.Generic;

  class DictionaryExample
  {
     static void Main()
     {
         // ãƒ‡ã‚£ã‚¯ã‚·ãƒ§ãƒŠãƒªã®ä½œæˆ
         Dictionary<string, int> dict = new Dictionary<string, int>();

         // Dictionary ã«è¦ç´ ã‚’è¿½åŠ ã™ã‚‹ã«ã¯ Add ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ç”¨ã„ã‚‹ï¼
         dict.Add( "Chocolate", 2 );
         dict.Add( "Chips",     4 );
         dict.Add( "Candy",     5 );

         // è¦ç´ ã«ã¯é…åˆ—ã®ã‚ˆã†ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹
         dict["Chips"] = 7;
         Console.WriteLine( "dict[\"Chips\"] = " + dict["Chips"] ); // 7

         Console.WriteLine();
         // foreach æ–‡ã§ã¯å€‹ã€…ã®è¦ç´ ã¯ KeyValuePair<string, int> ã¨ã—ã¦æ‰‹ã«å…¥ã‚‹
         // æ·»å­—ã¨ã—ã¦ä½¿ã‚ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿ã®éƒ¨åˆ†ã‚’ã‚­ãƒ¼
         // ãã‚Œã«å¯¾å¿œã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’ãƒãƒªãƒ¥ãƒ¼ã¨å‘¼ã¶ï¼
         // ç”¨èªãŒè¡çªã—ã¦ã„ã‚‹ãŒï¼Œå¼ã®è©•ä¾¡çµæœã§ã‚ã‚‹å€¤ã¨ã¯ç›´æ¥ã¯é–¢ä¿‚ã¯ãªã„ï¼
         foreach ( KeyValuePair<string, int> kv in dict )
         {
             Console.WriteLine( kv.Key + " -> " + kv.Value );
         }

         Console.WriteLine();
         // ã‚­ãƒ¼ã®ã¿ãŒå¿…è¦ãªå ´åˆã¯ Keys ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ä½¿ã†ï¼
         // ã‚‚ã¡ã‚ã‚“ï¼Œã‚­ãƒ¼ã‹ã‚‰ãƒãƒªãƒ¥ãƒ¼ã‚’å¼•ã‘ã‚‹ã®ã§ ãƒãƒªãƒ¥ãƒ¼ã«ã‚‚ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ï¼
         // ãªãŠ dict.Keys ã¯ Dictionary<string, int>.KeyCollection å‹
         foreach ( string k in dict.Keys )
         {
             Console.WriteLine( k + " -> " + dict[k] );
         }

         Console.WriteLine();
         // ãƒãƒªãƒ¥ãƒ¼ã®ã¿ãŒå¿…è¦ãªå ´åˆã¯ Values ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ä½¿ã†ï¼
         foreach ( int v in dict.Values )
         {
             Console.WriteLine( "Value: " + v );
         }

         // æ–°ã—ã„ã‚­ãƒ¼ã¯æ·»å­—ã‚¢ã‚¯ã‚»ã‚¹ã§ã‚‚è¿½åŠ ã§ãã‚‹
         dict["Banana"] = 2;

         // ã‚­ãƒ¼ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§ï¼Œãã®ã‚­ãƒ¼ã¨é–¢é€£ã¥ã‘ã‚‰ã‚Œã¦ã„ã‚‹ãƒãƒªãƒ¥ãƒ¼ã®çµ„ã‚’é…åˆ—ã‹ã‚‰å–ã‚Šé™¤ã‘ã‚‹ï¼
         dict.Remove("Candy");

         Console.WriteLine();
         foreach ( var kv in dict )
         {
             Console.WriteLine( kv.Key + " -> " + kv.Value );
         }
     }
  }

ä¸Šã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®å‡ºåŠ›ã¯ä»¥ä¸‹ã¨ãªã‚‹ï¼

::

  dict["Chips"] = 7

  Chocolate -> 2
  Chips -> 7
  Candy -> 5

  Chocolate -> 2
  Chips -> 7
  Candy -> 5

  Value: 2
  Value: 7
  Value: 5

  Chocolate -> 2
  Chips -> 7
  Banana -> 2

ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–å­ï¼ˆobject initializerï¼‰
==========================================

ãƒ‡ã‚£ã‚¯ã‚·ãƒ§ãƒŠãƒªã¯ **ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–å­** ã‚’ç”¨ã„ã‚‹ã“ã¨ã§ä¸‹è¨˜ã®ã‚ˆã†ã«åˆæœŸå€¤ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ãŒã§ãã‚‹ï¼

.. code:: cs

  using System;
  using System.Collections.Generic;

  class DictionaryExample2
  {
     static void Main()
     {
         Dictionary<string, int> dict = new Dictionary<string, int>()
         {
             // ã“ã®{}ã§å›²ã¾ã‚Œã¦ã„ã‚‹éƒ¨åˆ†ãŒã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–å­ï¼ˆ{}ã‚’å«ã‚€ï¼‰
             ["Chocolate"] = 2, // æ³¨æ„ ";" ã§ãªã ","
             ["Chips"]     = 4,
             ["Candy"]     = 5
         };

         foreach ( KeyValuePair<string, int> kv in dict )
         {
             Console.WriteLine( kv.Key + " -> " + kv.Value );
         }
     }
  }

ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–å­ã¯ä¸Šè¨˜ã® ``new Dictionary<string, int>()``ã®ç›´å¾Œã®ä¸­æ‹¬å¼§ã®éƒ¨åˆ†ã§ã‚ã‚‹ï¼
ä¸€èˆ¬ã«ï¼ŒC#ã§ã¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆç”Ÿæˆç›´å¾Œã®publicãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼Œæ·»å­—ã¸ã®ä»£å…¥ã‚’ï¼Œ
ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–å­ã‚’ä½¿ã†ã“ã¨ã§ç”Ÿæˆã¨ã¾ã¨ã‚ã¦è¡Œã†ã“ã¨ãŒã§ãã‚‹ï¼

.. code:: cs

   using System;

   class Point {
     public double X;
     public double Y;
   }

   class ObjectInitializerExample
   {
       static void Main()
       {
           // ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–å­ã«ã‚ˆã‚Šï¼ŒXã¨Yã«ç”Ÿæˆå¾Œã«ä»£å…¥ã™ã‚‹ï¼
           // å®Ÿéš›ã«ä»¥ä¸‹ã¯
           //
           //    Point temp = new Point();
           //    temp.X = 2;
           //    temp.Y = 3;
           //    Point p = temp;
           //
           // ã®ã‚ˆã†ã«æŒ™å‹•ã™ã‚‹ï¼
           Point p = new Point() { X = 2, Y = 3 };
           Console.WriteLine( "(" + p.X + ", " + p.Y + ")" );
       }
   }


ä¾‹å¤–ã¨ãã®æ•æ‰
==============

ã•ã¦ï¼Œä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã¯ã©ã®ã‚ˆã†ã«æŒ¯ã‚‹èˆã†ã ã‚ã†ã‹ï¼Ÿ

.. code:: cs

  using System;
  using System.Collections.Generic;

  class ExceptionExample
  {
     static void Main()
     {
         // ç©ºã®ãƒ‡ã‚£ã‚¯ã‚·ãƒ§ãƒŠãƒªã®ä½œæˆ
         Dictionary<string, int> dict = new Dictionary<string, int>();

         // å­˜åœ¨ã—ãªã„ã‚­ãƒ¼ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹
         Console.WriteLine( dict["somekey"] );
     }
  }

å®Ÿéš›ã«å®Ÿè¡Œã•ã›ã¦ã¿ã‚‹ã¨ï¼Œä»¥ä¸‹ã®ã‚ˆã†ãªå®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼ã¨ãªã‚‹.

::

   Unhandled exception. System.Collections.Generic.KeyNotFoundException: The given key 'somekey' was not present in the dictionary.
      at System.Collections.Generic.Dictionary`2.get_Item(TKey key)
      at ExceptionExample.Main() in /Users/kztk/prog/cs/Materials/Week4/ExceptionExample/Program.cs:line 12

ã‚‚ã¡ã‚ã‚“ï¼Œã“ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ã¯``ContainsKey(TKey)`` ãƒ¡ã‚½ãƒƒãƒ‰ç­‰ã‚’ä½¿ã£ã¦é€ä¸€æ¤œæŸ»ã™ã‚Œã°é˜²ãã“ã¨ãŒã§ãã‚‹ï¼
ã—ã‹ã—ãªãŒã‚‰ï¼Œãã†ã—ãŸé€ä¸€ã®æ¤œæŸ»ã¯ *ç…©é›‘ã§ã‚ã‚ŠãªãŠã‹ã¤ã‚³ãƒ¼ãƒ‰ã®è¦‹é€šã—ã‚’æ‚ªã* ã™ã‚‹ï¼
ã¾ãŸï¼Œå•é¡ŒãŒèµ·ãã¦ã—ã¾ã£ãŸå ´åˆã®å‡¦ç†ã‚‚å…±é€šã§ã‚ã‚‹ã“ã¨ã‚‚ã—ã°ã—ã°ã§ã‚ã‚‹ï¼
ãŸã¨ãˆã°ï¼Œå¯¾è©±çš„ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã ã¨ã‚¨ãƒ©ãƒ¼ã‚’å ±å‘Šã—ãƒ¦ãƒ¼ã‚¶ã®å…¥åŠ›ã‚’å†åº¦ä¿ƒã™ã“ã¨ã«ãªã‚‹ã ã‚ã†ã—ï¼Œ
å¯¾è©±çš„ã§ãªã„ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã ã¨ãƒ¦ãƒ¼ã‚¶ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’åã„ã¦çµ‚äº†ã™ã‚‹ã“ã¨ã«ãªã‚‹ã ã‚ã†ï¼

ãã®ã‚ˆã†ãªå•é¡Œã‚’è§£æ±ºã™ã‚‹ã®ãŒ **ä¾‹å¤–å‡¦ç†** ã§ã‚ã‚‹ï¼ä¾‹å¤–ã¯ä¸Šè¨˜ã®å­˜åœ¨ã—ãªã„ã‚­ãƒ¼ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ãªã©æ§˜ã€…ãªåŸå› ã§æŠ•ã’ã‚‰ã‚Œã‚‹ï¼
``try``-``catch``æ–‡ã‚’ç”¨ã„ã‚‹ã¨ä¾‹å¤–ã‚’æ•æ‰ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ï¼

.. code:: cs

  using System;
  using System.Collections.Generic;

  class ExceptionExample2
  {
     static void Main()
     {
         // ç©ºã®ãƒ‡ã‚£ã‚¯ã‚·ãƒ§ãƒŠãƒªã®ä½œæˆ
         Dictionary<string, int> dict = new Dictionary<string, int>();

         try
         {
             Console.WriteLine("Hi");
             Console.WriteLine( dict["somekey"] );
             Console.WriteLine("Hello");
             Console.WriteLine( dict["anotherkey"] );
             Console.WriteLine("Hello?");
             Console.WriteLine( dict["yetanotherkey"] );
             Console.WriteLine("Hello??");
         }
         catch (KeyNotFoundException e)
         {
             // tryã®ä¸­ã§ KeyNotFoundExceptionå‹ï¼ˆã‚ã‚‹ã„ã¯ãã®æ´¾ç”Ÿå‹ï¼‰ã®ä¾‹å¤–ãŒç™ºç”Ÿã—ãŸã‚‰ï¼Œä»¥ä¸‹ã®å‡¦ç†ã‚’å®Ÿæ–½ï¼
             Console.WriteLine("Caught exception:");
             Console.WriteLine(e);
             Console.WriteLine("---------------------------");
             Console.WriteLine("e.GetType().Name: " + e.GetType().Name );
             Console.WriteLine("e.Message: " + e.Message );
             Console.WriteLine("e.Source: " + e.Source );
             Console.WriteLine("e.TargetSite: " + e.TargetSite );
             Console.WriteLine("e.StackTrace:");
             Console.WriteLine( e.StackTrace );
         }
         // ä¾‹å¤–ãŒç™ºç”Ÿã—æ•æ‰ã•ã‚ŒãŸ or ç™ºç”Ÿã—ãªã‹ã£ãŸãªã‚‰ã°ã“ã“ã«å‡¦ç†ãŒç§»ã‚‹ï¼
         Console.WriteLine("Hello, again.");
     }
  }

ä¸Šè¨˜ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’å®Ÿè¡Œã™ã‚‹ã¨ä»¥ä¸‹ã®å‡ºåŠ›ãŒå¾—ã‚‰ã‚Œã‚‹ï¼

::

   Hi
   Caught exception:
   System.Collections.Generic.KeyNotFoundException: The given key 'somekey' was not present in the dictionary.
      at System.Collections.Generic.Dictionary`2.get_Item(TKey key)
      at ExceptionExample2.Main() in /Users/kztk/prog/cs/Materials/Week4/ExceptionExample2/Program.cs:line 14
   ---------------------------
   e.GetType().Name: KeyNotFoundException
   e.Message: The given key 'somekey' was not present in the dictionary.
   e.Source: System.Private.CoreLib
   e.TargetSite: Void ThrowKeyNotFoundException[T](T)
   e.StackTrace:
      at System.Collections.Generic.Dictionary`2.get_Item(TKey key)
      at ExceptionExample2.Main() in /Users/kztk/prog/cs/Materials/Week4/ExceptionExample2/Program.cs:line 14
   Hello, again.

ä¾‹å¤–ã‚’æŠ•ã’ã‚‹ã«ã¯``throw``æ–‡ã‚’ä½¿ç”¨ã™ã‚‹ï¼

.. code:: cs

   using System;

   class Student
   {
       private int score = 0;
       public int Score {
          get { return score;  }
          set {
              if (0 <= value && value <= 100)
              {
                  score = value;
              }
              else
              {
                  // ä¾‹å¤–ã‚’æŠ•ã’ã‚‹ï¼
                  throw new ArgumentException("Scoreã¯0ã‹ã‚‰100ã¾ã§ã®ç¯„å›²å†…ã®æ•´æ•°ã§ãªã‘ã‚Œã°ãªã‚‰ãªã„");
              }
          }
       }
       public string Name { get; set; } = "";
   }

   class ExceptionExample3
   {
       static void Main()
       {
          try
          {
             Student s = new Student () { Name = "Taro Tohoku", Score = 105 } ;
          }
          catch(ArgumentException e)
          {
             Console.WriteLine(e);
          }
       }
   }

ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ã®å®Ÿè¡Œçµæœã¯ä»¥ä¸‹ã¨ãªã‚‹ï¼

::

   System.ArgumentException: Scoreã¯0ã‹ã‚‰100ã¾ã§ã®ç¯„å›²å†…ã®æ•´æ•°ã§ãªã‘ã‚Œã°ãªã‚‰ãªã„
      at Student.set_Score(Int32 value) in /Users/kztk/prog/cs/Materials/Week4/ExceptionExample3/Program.cs:line 16
      at ExceptionExample3.Main() in /Users/kztk/prog/cs/Materials/Week4/ExceptionExample3/Program.cs:line 29

ä¸€èˆ¬çš„ã«ã¯ä¾‹å¤–ã¨ã¯ï¼Œ``System.Exception``ã‚’ç¶™æ‰¿ã—ã¦ã„ã‚‹ã‚¯ãƒ©ã‚¹ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã‚ã‚‹ï¼ãã®ãŸã‚ï¼Œ``System.Exception``ã‹ãã®æ´¾ç”Ÿã‚¯ãƒ©ã‚¹ï¼ˆä¸Šè¨˜ ``ArgumentException`` ã‚„ ``KeyNotFoundException`` ãªã©ï¼‰ã‚’ç¶™æ‰¿ã™ã‚‹ã“ã¨ã§ãƒ¦ãƒ¼ã‚¶é©å®œã®ä¾‹å¤–ã‚’ä½œæˆã™ã‚‹ã“ã¨ã‚‚ã§ãã‚‹ï¼

ã¾ãŸï¼Œä¸€ã¤ã®``try``ã¯ã„ãã¤ã‚‚ã®``catch``ãƒ–ãƒ­ãƒƒã‚¯ã‚’æŒã¤ã“ã¨ãŒã§ãã‚‹ï¼

.. code:: cs

   try
   {
      // s ã‚„ dict ãŒé©å½“ã«å®šç¾©ã•ã‚Œã¦ã„ã‚‹ã¨ã™ã‚‹
      s.Score = dict[s.Name];
      Console.WriteLine(s.Score);
   }
   catch(ArgumentNullException e)
   {
       // ArgumentNullException ãŒèµ·ããŸã¨ãã®å‡¦ç†
       // ã“ã®å…·ä½“ä¾‹ã«ãŠã„ã¦ã¯ï¼Œs.Name ãŒnullã®å ´åˆã«ç™ºç”Ÿ
       // ãªãŠï¼ŒArgumentNullException ã¯ ArgumentException ã®æ´¾ç”Ÿã‚¯ãƒ©ã‚¹
   }
   catch(ArgumentException e)
   {
      // ArgumentException ãŒèµ·ããŸã¨ãã®å‡¦ç†
      // ã“ã®å…·ä½“ä¾‹ã«ãŠã„ã¦ã¯ï¼Œdict[s.Name] ãŒ0ã€œ100ã®ç¯„å›²ã«ãªã„ã¨ãã«ç™ºç”Ÿ
      // ãªãŠï¼ŒArgumentException ã¯ Exception ã®ï¼ˆç›´æ¥ã§ã¯ãªã„ãŒï¼‰æ´¾ç”Ÿã‚¯ãƒ©ã‚¹
   }
   catch(Exception e)
   {
      // ExceptionãŒèµ·ããŸã¨ãã®å‡¦ç†
      // ã“ã®å…·ä½“ä¾‹ã§ã¯ä¸€è¦‹ç™ºç”Ÿã—ãªã•ãã†ã«è¦‹ãˆã‚‹ãŒï¼ŒWriteLine ãŒIOExceptionã‚’æŠ•ã’ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ï¼
      // ç§ã¯æœªç¢ºèªã ãŒï¼Œæ¨™æº–å‡ºåŠ›ãŒ/dev/fullã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã•ã‚Œã¦ã„ã‚‹å ´åˆï¼Ÿ
      // ï¼ˆå‚è€ƒï¼š https://blog.sunfishcode.online/bugs-in-hello-world/ ï¼‰
   }

ã“ã®ã¨ãï¼Œã‚ˆã‚Šç‰¹å®šï¼ˆã‚ˆã‚Šæ´¾ç”Ÿå´ã®ï¼‰ã®ä¾‹å¤–ã«å¯¾ã™ã‚‹ catch ã‚’ã‚ˆã‚Šå…ˆé ­ã«æ›¸ãï¼ãã†ã§ã‘ã‚Œã°æœ€åˆã®catchã§ä¾‹å¤–ãŒæ•æ‰ã•ã‚Œã¦ã—ã¾ã†ã®ã§ï¼Œå¾Œæ®µã®catchãŒä½¿ã‚ã‚Œãªããªã‚‹ï¼


ãƒ•ã‚¡ã‚¤ãƒ«å…¥å‡ºåŠ›
==============

ã“ã“ã§ã¯ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã«ã¤ã„ã¦ã®ã¿ç´¹ä»‹ã™ã‚‹ï¼

ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ã®å…¥åŠ›
------------------

``System.IO.File``ã®staticãƒ¡ã‚½ãƒƒãƒ‰ ``ReadAllText`` ã‚„ ``ReadAllLines`` ã‚’åˆ©ç”¨ã—ãŸã‚Šï¼Œ
``OpenText``ã—ã¦å¾—ã‚‰ã‚Œã‚‹``System.IO.StreamReader``ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’åˆ©ç”¨ã—ãŸã‚Šã™ã‚‹æ–¹æ³•ãŒã‚ã‚‹ï¼ˆä»–ã«ã‚‚ã‚ã‚‹ï¼‰ï¼

.. code:: cs

   using System;
   using System.IO;

   class FileInputExample
   {
       static void Main()
       {
           // ã„ã‚ã‚“ãªæ–¹æ³•ã§ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸­èº«ã‚’æ¨™æº–å‡ºåŠ›ã«å‡ºåŠ›ã™ã‚‹ï¼

           string fileToOpen = "./MyText.txt";

           try
           {
               // ãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ã‚’ä¸€æ°—ã«ï¼Œä¸€å€‹ã®stringã¨ã—ã¦èª­ã¿ã¨ã‚‹ï¼
               // ãƒ•ã‚¡ã‚¤ãƒ«ãŒå°ã•ã„ï¼Œã¾ãŸã¯ã©ã†ã›ä¸€åº¦ã¯å…¨éƒ¨èª­ã‚€å¿…è¦ãŒã‚ã‚‹ã®ãªã‚‰ï¼
               string txt = File.ReadAllText(fileToOpen);
               Console.WriteLine("ä¸€æ°—ã«å…¨éƒ¨èª­ã‚€ï¼ˆçµæœã‚’æ–‡å­—åˆ—ã«ï¼‰");
               Console.WriteLine(txt);

               Console.WriteLine("ä¸€æ°—ã«å…¨éƒ¨èª­ã‚€ï¼ˆçµæœã‚’æ–‡å­—åˆ—ã®é…åˆ—ã«ï¼‰");
               // ãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ã‚’ä¸€æ°—ã«ï¼Œå„è¡Œã®stringã®åˆ—ã¨ã—ã¦èª­ã¿ã¨ã‚‹ï¼ˆå„è¡Œã®çµ‚ç«¯ã®æ”¹è¡Œæ–‡å­—ã¯å«ã¾ã‚Œãªã„ï¼‰
               // ãƒ•ã‚¡ã‚¤ãƒ«ãŒå°ã•ã„ï¼Œã¾ãŸã¯ã©ã†ã›ä¸€åº¦ã¯å…¨éƒ¨èª­ã‚€å¿…è¦ãŒã‚ã‚‹ã®ãªã‚‰ï¼
               string[] lines = File.ReadAllLines(fileToOpen);
               foreach (var s in lines)
               {
                   // èª­ã¿ã“ã‚“ã è¡Œã‚’è¡¨ç¤ºã™ã‚‹ï¼
                   Console.WriteLine(s);
               }

               Console.WriteLine("ä¸€è¡Œã”ã¨å‡¦ç†");
               // ï¼ˆutf-8ã®ï¼‰ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã
               StreamReader sr = File.OpenText(fileToOpen);
               try
               {
                   // ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸­èº«ã‚’ä¸€è¡Œãšã¤å‡¦ç†ã™ã‚‹ï¼ãƒ•ã‚¡ã‚¤ãƒ«ãŒå¤§ãã„ã¨ããªã©ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã‚’æ°—ã«ã™ã‚‹ã¨ãï¼
                   string s;
                   while ((s = sr.ReadLine()) != null)
                   {
                       Console.WriteLine(s);
                   }
               }
               finally
               {
                   // finallyãƒ–ãƒ­ãƒƒã‚¯ã¯ä¾‹å¤–ãŒç™ºç”Ÿã—ãŸå ´åˆã‚‚ã—ãªã„å ´åˆã‚‚å®Ÿè¡Œã•ã‚Œã‚‹

                   // é–‹ã„ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‰ã˜ã‚‹ï¼srãŒGCã•ã‚Œã‚‹éš›ã«ã‚‚é–‰ã˜ã‚‰ã‚Œã‚‹ãŒï¼Œ
                   // åŒæ™‚ã«é–‹ã‘ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã®æ•°ã¯æœ‰é™ãªã®ã§ï¼Œä¸è¦ã«ãªã£ãŸã‚‰ã™ãã«é–‰ã˜ã‚‹ã®ãŒã‚ˆã„
                   sr.Dispose();
               }

               Console.WriteLine("ä¸€è¡Œã”ã¨å‡¦ç†ï¼ˆusingã‚’ä½¿ç”¨ï¼‰");
               // usingæ–‡ã‚’ä½¿ã†ã¨ã‚‚ã£ã¨ç°¡æ½”ã«æ›¸ã‘ã‚‹
               using (StreamReader sr2 = File.OpenText(fileToOpen))
               {
                   // ã“ã®ä¸­ã§ä¾‹å¤–ãŒç™ºç”Ÿã—ãŸå ´åˆã‚‚ãã†ã§ãªã„å ´åˆã‚‚ sr2.Dispose() ãŒå‘¼ã°ã‚Œã‚‹
                   while (sr2.Peek() > -1) // Peek ã‚’ä½¿ã£ãŸã»ã†ãŒä¸Šã«æ¯”ã¹ã¦ãƒˆãƒªãƒƒã‚­ãƒ¼ã§ãªã„ã‹ã‚‚
                   {
                       Console.WriteLine(sr2.ReadLine());
                   }
               }
           }
           catch (FileNotFoundException e)
           {
               // FileNotFoundExceptionã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã® FileName ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯è¦‹ä»˜ã‹ã‚‰ãªã‹ã£ãŸãƒ•ã‚¡ã‚¤ãƒ«åã‚’ä¿æŒ
               // https://docs.microsoft.com/en-us/dotnet/api/system.io.filenotfoundexception?view=net-6.0
               // æ—¥æœ¬èªç‰ˆ https://docs.microsoft.com/ja-jp/dotnet/api/system.io.filenotfoundexception?view=net-6.0
               Console.WriteLine("ãƒ•ã‚¡ã‚¤ãƒ« '" + e.FileName + "'ãŒè¦‹ä»˜ã‹ã‚Šã¾ã›ã‚“");
           }
           // ä»–ã®ä¾‹å¤–ã¯æ•æ‰ã—ãªã„
       }
   }

MyText.txt ã®ä¸­èº«

::

   ã‚Šã‚“ã”
   ã‚ªãƒ¬ãƒ³ã‚¸
   ãƒãƒŠãƒŠ
   ã¿ã‹ã‚“

å‡ºåŠ›çµæœ

::

   ä¸€æ°—ã«å…¨éƒ¨èª­ã‚€ï¼ˆçµæœã‚’æ–‡å­—åˆ—ã«ï¼‰
   ã‚Šã‚“ã”
   ã‚ªãƒ¬ãƒ³ã‚¸
   ãƒãƒŠãƒŠ
   ã¿ã‹ã‚“
   ä¸€æ°—ã«å…¨éƒ¨èª­ã‚€ï¼ˆçµæœã‚’æ–‡å­—åˆ—ã®é…åˆ—ã«ï¼‰
   ã‚Šã‚“ã”
   ã‚ªãƒ¬ãƒ³ã‚¸
   ãƒãƒŠãƒŠ
   ã¿ã‹ã‚“
   ä¸€è¡Œã”ã¨å‡¦ç†
   ã‚Šã‚“ã”
   ã‚ªãƒ¬ãƒ³ã‚¸
   ãƒãƒŠãƒŠ
   ã¿ã‹ã‚“
   ä¸€è¡Œã”ã¨å‡¦ç†ï¼ˆusingã‚’ä½¿ç”¨ï¼‰
   ã‚Šã‚“ã”
   ã‚ªãƒ¬ãƒ³ã‚¸
   ãƒãƒŠãƒŠ
   ã¿ã‹ã‚“


usingæ–‡
-------

C#ã¯GCä»˜ãã®è¨€èªã§ã‚ã‚Šï¼Œå‚ç…§ã•ã‚Œãªã„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ã„ãšã‚Œè§£æ”¾ã•ã‚Œã‚‹ï¼
ã—ã‹ã—ãªãŒã‚‰ï¼Œãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã«ãŠã„ã¦ã¯ãƒ¡ãƒ¢ãƒªä»¥å¤–ã«ã‚‚ã•ã¾ã–ã¾ãªãƒªã‚½ãƒ¼ã‚¹ã‚’ä½¿ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆãŒã‚ã‚‹ï¼
ãƒ•ã‚¡ã‚¤ãƒŠãƒ©ã‚¤ã‚¶ã‚’åˆ©ç”¨ã—GCæ™‚ã«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒä¿æœ‰ã—ã¦ã„ã‚‹ãƒªã‚½ãƒ¼ã‚¹ã‚’è§£æ”¾ã™ã‚‹ã“ã¨ã¯ã§ãã‚‹ã‚‚ã®ã®ï¼Œ
ãƒªã‚½ãƒ¼ã‚¹ã¯æœ‰é™ã§ã‚ã‚‹ã‚‚ã®ã®ä½¿ç”¨å¾Œã™ãã«è§£æ”¾ã™ã‚‹ã“ã¨ãŒæœ›ã¾ã—ã„ï¼
é–‹ã„ãŸãƒ•ã‚¡ã‚¤ãƒ«â€”â€”ã«é–¢é€£ä»˜ã‘ã‚‰ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«è¨˜è¿°å­â€”â€”ã¯ãã®ã‚ˆã†ãªãƒªã‚½ãƒ¼ã‚¹ã®ä¸€ã¤ã§ã‚ã‚‹ï¼

ãƒªã‚½ãƒ¼ã‚¹ã‚’ç¢ºä¿ï¼ˆãŸã¨ãˆã°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ãï¼‰ã—ãŸå¾Œã®å‡¦ç†ä¸­ã«ä¾‹å¤–ãŒç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šï¼Œãã®å ´åˆã«ã‚‚ãƒªã‚½ãƒ¼ã‚¹ã¯è§£æ”¾ï¼ˆãŸã¨ãˆã°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‰ã˜ã‚‹ï¼‰ã•ã‚Œãªã‘ã‚Œã°ãªã‚‰ãªã„ï¼
ãã®ç›®çš„ã«``try``-``finally``ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã‚‚ã§ãã‚‹ãŒï¼Œç°¡æ½”ãªã®ã¯ **usingæ–‡** ï¼ˆusingãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã¨ã¯é•ã†ï¼‰ã‚’ä½¿ã†æ–¹æ³•ã§ã‚ã‚‹ï¼

åŸºæœ¬çš„ãªæ§‹æ–‡ã¯å¤§é›‘æŠŠã«ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã‚ã‚‹ï¼

.. raw:: html
 
   <pre style="line-height:1.3">
   <span class="kw">using</span> (<span class="metaname">å‹</span> <span class="metaname">å¤‰æ•°</span> = <span class="metaname">ãƒªã‚½ãƒ¼ã‚¹ã‚’ç¢ºä¿ã™ã‚‹å¼</span> )
   <span class="metaname">æ–‡</span>
   </pre>

usingãƒ–ãƒ­ãƒƒã‚¯å†…ã§ä¾‹å¤–ãŒç™ºç”Ÿã—ãŸå ´åˆã«ã‚‚ãã†ã§ãªã„å ´åˆã«ã‚‚å°å…¥ã•ã‚ŒãŸå¤‰æ•°ã«å¯¾ã— ``Dispose()`` ãŒå‘¼ã°ã‚Œãƒªã‚½ãƒ¼ã‚¹ãŒè§£æ”¾ã•ã‚Œã‚‹ï¼

.. note::

   ãã®ãŸã‚ï¼Œå°å…¥ã•ã‚ŒãŸå¤‰æ•°ã®å‹ã¯ **ã‚¤ãƒ³ã‚¿ãƒ•ã‚§ãƒ¼ã‚¹** ``System.IDisposable`` ã‚’å®Ÿè£…ã—ã¦ãªã‘ã‚Œã°ãªã‚‰ãªã„ï¼


ãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®å‡ºåŠ›
----------------

``System.IO.File``ã®staticãƒ¡ã‚½ãƒƒãƒ‰ ``WriteAllText`` ã‚„ ``WriteAllLines`` ã‚’åˆ©ç”¨ã—ãŸã‚Šï¼Œ
``CreateText``ã—ã¦å¾—ã‚‰ã‚Œã‚‹``System.IO.StreamWriter``ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’åˆ©ç”¨ã—ãŸã‚Šã™ã‚‹æ–¹æ³•ãŒã‚ã‚‹ï¼ˆä»–ã«ã‚‚ã‚ã‚‹ï¼‰ï¼


.. code:: cs

   using System;
   using System.IO;

   class FileOutputExample
   {
       static void Main()
       {
           string[] txts = { "ã‚Šã‚“ã”", "ã‚ªãƒ¬ãƒ³ã‚¸", "ãƒãƒŠãƒŠ", "ã¿ã‹ã‚“" };

           // txtã¯txtsã®å„è¦ç´ ã‚’"\n"ã‚’é–“ã«æŒŸã‚“ã§ã¤ãªã’ãŸæ–‡å­—åˆ—
           // ã¤ã¾ã‚Šï¼Œtxt = txts[0] + "\n" + txts[1] + "\n" + ... + "\n" + txts[txts.Length - 1]
           string txt = String.Join("\n", txts);

           // æ–‡å­—åˆ—ã®å†…å®¹ã‚’ä¸€æ°—ã«æ›¸ã
           File.WriteAllText("./MyText1.txt", txt);

           // æ–‡å­—åˆ—é…åˆ—ã®å†…å®¹ã‚’ä¸€æ°—ã«æ›¸ã
           File.WriteAllLines("./MyText2.txt", txts);

           // ä¸€è¡Œãšã¤æ›¸ã
           using (StreamWriter sw = File.CreateText("./MyText3.txt"))
           {
               foreach (var s in txts)
               {
                   sw.WriteLine(s);
               }
           }
       }
   }


ä¸Šè¨˜ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’å®Ÿè¡Œã™ã‚‹ã¨ï¼Œå®Ÿè¡Œã—ãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«MyText1.txtï¼ŒMyText2.txt ãŠã‚ˆã³ MyText3.txt ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ãŒä½œæˆã•ã‚Œã‚‹ï¼
ã„ãšã‚Œã‚‚ä»¥ä¸‹ã®ã‚ˆã†ãªå†…å®¹ã ãŒï¼ŒMyText1.txt ã¯æœ€çµ‚è¡Œã«çµ‚ç«¯ã®æ”¹è¡ŒãŒãªã„ï¼

:: 

  ã‚Šã‚“ã”
  ã‚ªãƒ¬ãƒ³ã‚¸
  ãƒãƒŠãƒŠ
  ã¿ã‹ã‚“


ã„ãã¤ã‹ã®æ–‡å­—åˆ—æ“ä½œé–¢æ•°
========================


.. code:: cs

   using System;
   using System.Collections.Generic;

   class StringExample
   {
       static void Main(string[] args)
       {
           string[] fruits = { "apple", "orange", "banana" };

           // Join(string s, string[] ss)ã§é…åˆ—ssã«å«ã¾ã‚Œã‚‹å„æ–‡å­—åˆ—ã‚’æŒ‡å®šã•ã‚ŒãŸåŒºåˆ‡ã‚Šsã§çµåˆã§ãã‚‹
           string joined = string.Join("|", fruits );
           Console.WriteLine( joined ); // apple|orange|banana

           Console.WriteLine();

           // Split(char c)ã‚’ä½¿ã†ã¨æŒ‡å®šã®åŒºåˆ‡ã‚Šæ–‡å­—cã§æ–‡å­—åˆ—ã‚’åˆ†å‰²ã§ãã‚‹
           string[] separated = joined.Split('|');
           Console.WriteLine("\"" + joined + "\".Split('|'): ");
           showSplit( separated ); 

           // Splitã¯ã‚ªãƒ¼ãƒãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¦ã„ã¦ï¼ŒåŒºåˆ‡ã‚Šã«ä½¿ã†ã®ã¯æ–‡å­—åˆ—ã§ã‚‚ã‚ˆã„
           string toSplit = "a--b--  c --d-----e--  --f";
           Console.WriteLine("\"" + toSplit + "\".Split(\"--\")" ); 
           showSplit( toSplit.Split("--") ); 

           // Split() ã¨å¼•æ•°ãªã—ã§å‘¼ã³å‡ºã›ã°ç©ºç™½ï¼ˆæ”¹è¡Œã‚„å…¨è§’ã‚¹ãƒšãƒ¼ã‚¹å«ã‚€ï¼‰ã§åŒºåˆ‡ã‚‹
           Console.WriteLine("Split()ã®ä¾‹"); 
           showSplit( "Hello, World.  ã“ã‚“ã«ã¡ã¯ä¸–ç•Œ\tå…¨è§’ã‚¹ãƒšãƒ¼ã‚¹â†’ã€€â†å…¨è§’ã‚¹ãƒšãƒ¼ã‚¹\näºŒè¡Œç›®ï¼ˆ\\r\\nçµ‚ç«¯ï¼‰\r\nä¸‰è¡Œç›®ï¼ˆ\\rçµ‚ç«¯ï¼‰\rå››è¡Œç›®".Split() );

           Console.WriteLine();

           // StartsWith(string s)ã§æŒ‡å®šã•ã‚ŒãŸæ–‡å­—åˆ—sã§å§‹ã¾ã£ã¦ã„ã‚‹ã‹åˆ¤å®šã§ãã‚‹        
           Console.WriteLine("\"ãŠã¯ã‚ˆã†ã”ã–ã„ã¾ã™\".StartsWith(\"ãŠã¯ã‚ˆã†\") = " + "ãŠã¯ã‚ˆã†ã”ã–ã„ã¾ã™".StartsWith("ãŠã¯ã‚ˆã†") );
           Console.WriteLine("\"ãŠã¯ã‚ˆã†ã”ã–ã„ã¾ã™\".StartsWith(\"ã”ã–ã„ã¾ã™\") = " + "ãŠã¯ã‚ˆã†ã”ã–ã„ã¾ã™".StartsWith("ã”ã–ã„ã¾ã™") );

           Console.WriteLine("");

           // IndexOf(string s)ã§æŒ‡å®šã•ã‚ŒãŸæ–‡å­—åˆ—sã®æœ€åˆã«å‡ºç¾ã™ã‚‹ä½ç½®ã‚’å–å¾—ã§ãã‚‹ï¼ˆå«ã¾ã‚Œã¦ã„ãªã„å ´åˆã¯ -1ï¼‰
           Console.WriteLine("\"eieio-eieio\".IndexOf(\"ie\") = " + "eieio-eieio".IndexOf("ie") ); // "eieio-eieio".IndexOf("ie") = 1
           Console.WriteLine("\"eieio-eieio\".IndexOf(\"ff\") = " + "eieio-eieio".IndexOf("ff") ); // "eieio-eieio".IndexOf("ff") = -1


           Console.WriteLine();

           // Substring(int index) ã§æŒ‡å®šã•ã‚ŒãŸä½ç½®ä»¥é™ã®æ–‡å­—åˆ—ã‚’åˆ‡ã‚Šå‡ºã™
           Console.WriteLine( "abcdefghijk".Substring(2) ); // cdefghijk

           // Substring(int index, int length)ã§æŒ‡å®šã•ã‚ŒãŸä½ç½®ã‹ã‚‰lengthã ã‘æ–‡å­—åˆ—ã‚’åˆ‡ã‚Šå‡ºã™
           Console.WriteLine( "abcdefghijk".Substring(2, 4) ); // cdef

           try 
           {
               // index + length ãŒå…ƒã®æ–‡å­—åˆ—ã®é•·ã•ã‚’è¶…ãˆãŸã‚‰  ArgumentOutOfRangeException ãŒç™ºç”Ÿ
               Console.WriteLine( "abcdefghijk".Substring(2, 400) );             
           }
           catch (ArgumentOutOfRangeException e)
           {
               Console.WriteLine("ä¾‹å¤–ç™ºç”Ÿ: " + e.GetType().Name + ": " + e.Message ); 
           }

           Console.WriteLine("");

           // Trim() ã§å…ˆé ­ãŠã‚ˆã³çµ‚ç«¯ã‹ã‚‰ã®é€£ç¶šã—ãŸç©ºç™½ã‚’å‰Šé™¤
           Console.WriteLine( "\"" + " Hello, World.  ".Trim() + "\"" ); // "Hello, World."

           // ç©ºç™½ã¯é•ã†ç¨®é¡ã®æ–‡å­—ã§ã‚‚ã‚ˆã„ï¼ˆunicodeã®ç©ºç™½æ–‡å­—ãªã‚‰ã‚ˆãå…¨è§’ç©ºç™½ã§ã‚‚OKï¼‰
           // å‚è€ƒï¼šunicodeã®ç©ºç™½æ–‡å­— https://www.compart.com/en/unicode/category/Zs
           Console.WriteLine( "\"" + "ã€€\tHello, World. \r\n ".Trim() + "\"" ); // "Hello, World."
           //                         â†‘ å…¨è§’ç©ºç™½æ–‡å­—
       }

       static void showSplit(string[] ss) {
           Console.Write("\t"); // ã‚¿ãƒ–æ–‡å­—
           foreach (var s in ss) {
               Console.Write("\"" + s + "\" ");
           }
           Console.WriteLine(); 
       }
   }

ä¸Šã®å®Ÿè¡Œçµæœ

::

   apple|orange|banana

   "apple|orange|banana".Split('|'):
           "apple" "orange" "banana"
   "a--b--  c --d-----e--  --f".Split("--")
           "a" "b" "  c " "d" "" "-e" "  " "f"
   Split()ã®ä¾‹
           "Hello," "World." "" "ã“ã‚“ã«ã¡ã¯ä¸–ç•Œ" "å…¨è§’ã‚¹ãƒšãƒ¼ã‚¹â†’" "â†å…¨è§’ã‚¹ãƒšãƒ¼ã‚¹" "äºŒè¡Œç›®ï¼ˆ\r\nçµ‚ç«¯ï¼‰" "" "ä¸‰è¡Œç›®ï¼ˆ\rçµ‚ç«¯ï¼‰" "å››è¡Œç›®"

   "ãŠã¯ã‚ˆã†ã”ã–ã„ã¾ã™".StartsWith("ãŠã¯ã‚ˆã†") = True
   "ãŠã¯ã‚ˆã†ã”ã–ã„ã¾ã™".StartsWith("ã”ã–ã„ã¾ã™") = False

   "eieio-eieio".IndexOf("ie") = 1
   "eieio-eieio".IndexOf("ff") = -1

   cdefghijk
   cdef
   ä¾‹å¤–ç™ºç”Ÿ: ArgumentOutOfRangeException: Index and length must refer to a location within the string. (Parameter 'length')

   "Hello, World."
   "Hello, World."


.. note::

   ``Substring``ã‚„``IndexOf``ã§æŒ‡å®šã™ã‚‹indexã‚„é•·ã•ã¯``string``ã‚’``char``ã®é…åˆ—ã¨ã—ã¦è¦‹ãŸã¨ãã®ã‚‚ã®ã§ã‚ã‚‹ï¼
   ã“ã®ã“ã¨ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«çµµæ–‡å­—ç­‰ã®æ‰±ã„ã§ç›´è¦³ã«åã™ã‚‹ã“ã¨ãŒã‚ã‚‹ï¼

   .. code::
   
      using System;

      class StringPitfall
      {
        static void Main() {

           Console.WriteLine("ğŸ˜±".Length);              // 2 
           Console.WriteLine("0x{0:X}", (int) "ğŸ˜±"[0]); // 0xD83D 
           Console.WriteLine("0x{0:X}", (int) "ğŸ˜±"[0]); // 0xDE31
        }
      }

   ã“ã‚Œã¯ï¼ŒcharãŒunicodeã®ã‚³ãƒ¼ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’è¡¨ã™ã®ã«ååˆ†ã§ãªã„ãŸã‚ã§ã‚ã‚‹ï¼charã¯0ã€œ65535ã®ç¯„å›²ã—ã‹è¡¨ã™ã“ã¨ãŒã§ããªã„ä¸€æ–¹ï¼Œ
   unicodeã®ã‚³ãƒ¼ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®æœ€å¤§å€¤ã¯ 0x10FFFF = 1114111 ã¨ãªã‚‹ï¼   
   å®Ÿéš›ã«çµµæ–‡å­—ç­‰ã®charã®ç¯„å›²ã§è¡¨ã‚ã›ãªã„ã‚³ãƒ¼ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¯charã®ãƒšã‚¢ã¨ã—ã¦è¡¨ã‚ã•ã‚Œã‚‹ï¼ˆ`å‚è€ƒï¼š UTF-16, an encoding of ISO 10646 <https://datatracker.ietf.org/doc/html/rfc2781#section-2>`__ï¼‰ï¼

   ã¾ãŸï¼Œã‚³ãƒ¼ãƒ‰ãƒã‚¤ãƒ³ãƒˆè‡ªä½“ã‚‚ã€Œæ–‡å­—ã€ã¨ã¯å¯¾å¿œã—ãªã„å ´åˆãŒã‚ã‚‹ï¼ãŸã¨ãˆã°ï¼Œã€ŒğŸ‡¯ğŸ‡µã€ã¨ã„ã†ä¸€æ–‡å­—ã¯äºŒã¤ã®ã‚³ãƒ¼ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼ˆU+1F1EF U+1F1F5ï¼‰ã§è¡¨ç¾ã•ã‚Œã‚‹ï¼

   ..
      https://docs.microsoft.com/en-us/dotnet/api/system.string?view=net-6.0 ã«ã‚ˆã‚‹ã¨

      .. raw:: html 

          <blockquote>To work with Unicode characters instead of <a href="https://docs.microsoft.com/en-us/dotnet/api/system.char?view=net-6.0" class="no-loc" data-linktype="relative-path">Char</a> objects, use the <a href="https://docs.microsoft.com/en-us/dotnet/api/system.globalization.stringinfo?view=net-6.0" class="no-loc" data-linktype="relative-path">System.Globalization.StringInfo</a> and <a href="https://docs.microsoft.com/en-us/dotnet/api/system.globalization.textelementenumerator?view=net-6.0" class="no-loc" data-linktype="relative-path">TextElementEnumerator</a> classes, or the <a href="https://docs.microsoft.com/en-us/dotnet/api/system.string.enumeraterunes?view=net-6.0" class="no-loc" data-linktype="relative-path">String.EnumerateRunes</a> method and the <a href="https://docs.microsoft.com/en-us/dotnet/api/system.text.rune?view=net-6.0" class="no-loc" data-linktype="relative-path">Rune</a> struct.</blockquote>


   ..
      ã§ã¯ï¼Œã‚³ãƒ¼ãƒ‰ãƒã‚¤ãƒ³ãƒˆå˜ä½ãªã‚‰ã°ï¼Œä¸€ã¤ã®ã‚³ãƒ¼ãƒ‰ãƒã‚¤ãƒ³ãƒˆãŒä¸€ã¤ã®ã€Œæ–‡å­—ã€ã«å¯¾å¿œã—ã¦ã„ã‚‹ã®ã‹ã¨ã„ã†ã¨ãã†ã§ã‚‚ãªãï¼Œ
      ãŸã¨ãˆã°ã€ŒğŸ‡¯ğŸ‡µã€ã¯äºŒã¤ã®ã‚³ãƒ¼ãƒ‰ãƒã‚¤ãƒ³ãƒˆã§è¡¨ç¾ã•ã‚Œã¦ã„ã‚‹ï¼
            
